<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta property="og:image"              content="https://timichal.github.io/volebni-model/fb.png" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://interaktivni.rozhlas.cz/data/dhondtator/jquery-ui.min.css">
    <title>Volební model: Prezidentské volby 2018</title>
  </head>
  <body>
    <style>
    .content {
        max-width: 800px;
        padding: 3rem 1.5rem;
        text-align: center;
        position: absolute;
        left: 50%;
        transform: translate(-50%,0%);
    }
    #result {
        min-height: 20vh;
    }
    #slider {
        width: 90%;
        margin-bottom: 30px;
        margin-top: 15px;
        margin-left: 5%;
    }
    #custom-handle {
      width: 4em;
      height: 1.6em;
      top: 50%;
      margin-top: -.8em;
      text-align: center;
      line-height: 1.6em;
      margin-left: -2em;
    }
    </style>
    <script
                  src="https://code.jquery.com/jquery-3.3.1.min.js"
                  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
                  crossorigin="anonymous"></script>
    <script src="https://interaktivni.rozhlas.cz/data/dhondtator/jquery-ui.min.js"></script>
    <script>
    !function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvents");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch="ontouchend"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,"mouseover"),f(a,"mousemove"),f(a,"mousedown"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,"mousemove"))},b._touchEnd=function(a){e&&(f(a,"mouseup"),f(a,"mouseout"),this._touchMoved||f(a,"click"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,"_touchStart"),touchmove:a.proxy(b,"_touchMove"),touchend:a.proxy(b,"_touchEnd")}),d.call(b)}}}(jQuery);

    $(function() {

    // selektitko kvora
    var handle = $( "#custom-handle" );
    $( "#slider" ).slider({
      min: 0,
      max: 100,
      step: 0.01,
      value: 50,
      create: function() {
        handle.text( $( this ).slider( "value" ) + " %" );
      },
      slide: function( event, ui ) {
        handle.text( ui.value.toString().replace(".",",") + " %");
        if (ui.value < 50) {
            $("#result").html("Volby by vyhrál <b>Jiří Drahoš</b>.")
        }
        if (ui.value > 50) {
            $("#result").html("Volby by vyhrál <b>Miloš Zeman</b>.")
        }
        if (ui.value === 50) {
            $("#result").html("Volby by skončily <b>remízou</b> a opakovaly by se.")
        }
      }
    }); 
    });

    </script>
    <div class="content">
    <h1>Prezidentské volby 2018:<br>Volební model</h1>
    <div>Jednou z nejčastějších otázek, kterou si po každých volbách kladou politici, komentátoři i voliči, zní: Jak by volby dopadly, kdyby občané hlasovali jinak? Přinášíme unikátní model druhého kola volby prezidenta, díky kterému lze tuto komplexní problematiku snadno nahlédnout i z laické perspektivy. Model je založen na reálných datech z prezidentského klání mezi Milošem Zemanem a Jiřím Drahošem, které se konalo 26. a 27. ledna 2018.</div><br>
    <div><i>Táhnutím posuvného prvku zvolte podíl hlasů, který by ve volbách dostal kandidát <b>Miloš Zeman</b>.</i></div>
    <div id="slider">
      <div id="custom-handle" class="ui-slider-handle"></div>
    </div>
    <h2 id="result"></div>
    </div>
  </body>
</html>
